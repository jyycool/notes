# 为什么地址总线为N位的CPU，其寻址范围是2的N次方字节？

## 一、为什么是2<sup>n</sup>？

![这里写图片描述](https://img-blog.csdn.net/20180514103327680?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzM4OTY3Mjk1/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70)

一根线是怎么连接两个存储单元的，难道里面有两根线芯？好像不是这样吧……

------

因为计算机是采用**二进制**计算的。假设一台计算机，它只有11根地址线，那么它的元件只有 0/1 两种状态。对应这个例子，我们其实已经把这唯一的一根地址线与两个存储单元A和B连上了。那么何时读A，何时读B？有一个办法：当地址线上的电压是高电压时我们读A，相反是低电压时，我们读B。如此一来，一根地址线的情况下，能对2个存储单元进行寻址。依次类推，2根地址线时可以对4个存储单元进行寻址，对应的电压情况可以是：低低，低高，高低，高高；继续想下去,3根地址线就可以对8个存储单元进行寻址（111、110、100、000、101、100、001、011），4根就是16个。也就是说，当有n根地址线时,可以对2<sup>n</sup>个存储单元进行寻址。

## 二、为什么计算机采用二进制？

- 技术实现简单：计算机是由逻辑电路组成，逻辑电路通常只有两个状态，开关的接通与断开，这两种状态正好可以用“1/0”“1/0”表示。
- 简化运算规则：两个二进制数和，积运算组合各有三种，运算规则简单，有利于简化计算机内部结构，提高运算速度。
- 适合逻辑运算：逻辑代数是逻辑运算的理论依据，二进制只有两个数码，正好与逻辑代数中的“真”和“假”相吻合。
- 易于进行转换：二进制与十进制数易于互相转换。
- 用二进制表示数据具有抗干扰能力强，可靠性高等优点。因为每位数据只有高低两个状态，当受到一定程度的干扰时，仍能可靠地分辨出它是高还是低。

## 三、CPU的位和字长

位：在数字电路和电脑技术中采用二进制，代码只有0和1，其中无论是0或是1, 在CPU中都是一“位”。

字长：电脑技术中对CPU在单位时间内(同一时间)能一次处理的二进制数的位数叫字长。所以能处理字长为8位数据的CPU通常就叫8位的CPU。同理32位的CPU就能在单位时间内处理字长为32位的二进制数据。

字节和字长的区别：由于常用的英文字符用8位二进制就可以表示，所以通常就将8位称为一个字节。字长的长度是不固定的，对于不同的CPU、字长的长度也不一样。8位的CPU一次只能处理一个字节，而32位的CPU一次就能处理4个字节，同理字长为64位的CPU一次可以处理8个字节。

## 四、寻址空间和地址总线是什么？

寻址空间一般指的是CPU对于内存寻址的能力。通俗地说，就是能最多用到多少内存的一个问题。数据在存储器(RAM)中存放是有规律的，CPU在运算的时候需要把数据提取出来就需要知道数据在那里 ，这时候就需要挨家挨户的找，这就叫做寻址。

但如果地址太多超出了CPU的能力范围，CPU就无法找到数据了。综上，CPU最大能查找多大范围的地址叫做寻址能力，CPU的寻址能力以字节为单位。地址总线 (AddressBusAddressBus；又称：位址总线) 属于一种电脑总线 (一部份)，是由CPU或有DMA 能力的单元，用来沟通这些单元想要存取(读取/写入)电脑内存元件/地方的实体位址。地址总线AB是专门用来传送地址的，由于地址只能从CPU传向外部存储器或输入输出端口，所以地址总线总是单向三态的，这与数据总线不同。

32位CPU每次可以处理32个字位，即32bits=4Bytes。每一个字节都有一个地址，其中包含了8个字位。32位CPU有32跟地址线，地址线决定了寻址范围的能力。每一根线都决定0和1两个地址，那么两根线就会决定00, 01, 10, 11这四个地址，依次类推，32根线总共会决定出2^32次方个位置。这样计算是没有问题的。每一个位置都是1Byte,这是内存的基本单位，所以32位操作系统配32位CPU，理论上可以寻找4GB的地址。由于硬件等原因，系统显示会不到4G。

64位CPU有64根地址总线，理论支持2<sup>64</sup>/ 1024<sup>3</sup>  G的内存，这是一个很大的数字，但是实际上我们市场的电脑目前远远达不到这个理论内存的万分之一。目前64位也就是能支持120G的内存。但是如果64位CPU和32位操作系统搭配，也仅仅会支持4G的内存。因为在32位系统下，仅有32根地址线工作。

